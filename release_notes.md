# SphereAgent v1.7.0 - Fleet Management Update üöÄ

## üéØ –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–ª–æ—Ç–æ–º –∏–∑ 500+ —É—Å—Ç—Ä–æ–π—Å—Ç–≤

### üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ APK
- ‚è±Ô∏è –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤ –±–µ–∑ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- üì• –§–æ–Ω–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏–π
- üîî Notification —Å –∫–Ω–æ–ø–∫–æ–π "Install"
- üì≤ –û–¥–∏–Ω –∫–ª–∏–∫ ‚Üí —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- **–ë–æ–ª—å—à–µ –ù–ï –ù–£–ñ–ù–û –æ–±–Ω–æ–≤–ª—è—Ç—å 500 —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –≤—Ä—É—á–Ω—É—é!**

### üåê –í–µ–±-–∫–æ–Ω—Ç—Ä–æ–ª—å Accessibility Service
- ‚ö†Ô∏è –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å—Ç–∞—Ç—É—Å–∞ (‚úì Enabled / ‚úó Disabled) –≤ –≤–µ–±-UI
- üîò –ö–Ω–æ–ø–∫–∞ "Open Settings" –ø—Ä—è–º–æ –≤ —Å—Ç—Ä–∏–º-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
- üì± –£–¥–∞–ª—ë–Ω–Ω–æ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç Android –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
- ‚ö° Shell –∫–æ–º–∞–Ω–¥–∞: `am start -a android.settings.ACCESSIBILITY_SETTINGS`

### üöÄ –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
- üì± –≠–º—É–ª—è—Ç–æ—Ä –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏–ª—Å—è ‚Üí –∞–≥–µ–Ω—Ç —Å—Ç–∞—Ä—Ç—É–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- üîó –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É
- üí™ –†–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ root –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- ‚öôÔ∏è BootReceiver —Å–ª—É—à–∞–µ—Ç `BOOT_COMPLETED`

---

## üì¶ –ß—Ç–æ –≤ —Ä–µ–ª–∏–∑–µ

- **APK —Ä–∞–∑–º–µ—Ä:** 23 MB (debug build)
- **Min Android:** 7.0 (API 24)
- **Target Android:** 14+ (API 35)
- **Version Code:** 12

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### UpdateManager
- –ü–µ—Ä–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ 1 –º–∏–Ω—É—Ç—É –ø–æ—Å–ª–µ —Å—Ç–∞—Ä—Ç–∞
- –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤
- Endpoint: `GET /api/v1/agent/updates/version`
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ APK: `externalCacheDir/sphere_agent_{version}.apk`
- FileProvider –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏

### Web Controls
- Backend endpoint: `POST /api/v1/agent/agents/{id}/open-accessibility`
- UI –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –≤ APK –ø—Ä–∏ –≤—ã–∫–ª—é—á–µ–Ω–Ω–æ–º Accessibility
- Polling —Å—Ç–∞—Ç—É—Å–∞ –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã –≤ MainViewModel
- AccessibilityWarningCard –≤ MainScreen

### Boot Auto-Start
- Permission: `RECEIVE_BOOT_COMPLETED`
- BootReceiver: –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ AgentService
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ `QUICKBOOT_POWERON`
- Foreground service –¥–ª—è –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏

---

## üìä Deployment –¥–ª—è 500+ —É—Å—Ç—Ä–æ–π—Å—Ç–≤

### –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (2 –∫–æ–º–∞–Ω–¥—ã)
```bash
# 1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ APK –Ω–∞ —Å–µ—Ä–≤–µ—Ä
cp app-debug.apk /path/to/backend/updates/sphere-agent-latest.apk

# 2. –û–±–Ω–æ–≤–∏—Ç–µ update_info.json
echo '{"version":"1.7.0",...}' > /path/to/backend/updates/update_info.json

# ‚úÖ –ì–æ—Ç–æ–≤–æ! –í—Å–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –ø–æ–ª—É—á–∞—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ —Ç–µ—á–µ–Ω–∏–µ 6 —á–∞—Å–æ–≤
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ñ–ª–æ—Ç–∞
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–π –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
curl https://adb.leetpc.com/api/v1/agent/agents | jq '.[] | {device: .device_model, version: .agent_version}'

# –ü—Ä–æ–≤–µ—Ä–∫–∞ endpoint —Ä–∞–±–æ—Ç–∞–µ—Ç
curl https://adb.leetpc.com/api/v1/agent/updates/version
```

---

## üìù –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **[DEPLOYMENT_v1.7.0.md](https://github.com/RootOne1337/SphereAgent-APK/blob/main/DEPLOYMENT_v1.7.0.md)** - –ø–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è
- **[QUICK_START_v1.7.0.md](https://github.com/RootOne1337/SphereAgent-APK/blob/main/QUICK_START_v1.7.0.md)** - –∫—Ä–∞—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è (2 –∫–æ–º–∞–Ω–¥—ã)
- **README.md** - –æ–±–Ω–æ–≤–ª—ë–Ω —Å Fleet Management —Å–µ–∫—Ü–∏–µ–π

---

## üêõ Bug Fixes

- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω viewer WebSocket close error (finally block exception)
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ –æ—Ç –∫—Ä–∞—à–∞ enableEdgeToEdge –Ω–∞ Android 9
- –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ observeEffects

---

## üîÆ Roadmap

### v1.8.0
- Silent Install (—Ç—Ä–µ–±—É–µ—Ç root –∏–ª–∏ system app)
- WebRTC Stream (–º–µ–Ω—å—à–µ –∑–∞–¥–µ—Ä–∂–∫–∏ —á–µ–º WebSocket)
- Multi-touch support (pinch-zoom, rotate)
- File Transfer —á–µ—Ä–µ–∑ –≤–µ–±-UI

### v2.0.0
- Screen Recording + —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- Automation Scripts (—Ç–∞–ø—ã, —Å–≤–∞–π–ø—ã, delays)
- Analytics Dashboard —Å heat maps
- Multi-language UI

---

## üí¨ –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- **Issues:** https://github.com/RootOne1337/SphereAgent-APK/issues
- **Telegram:** @RootOne1337
- **Docs:** https://github.com/RootOne1337/SphereADB/tree/main/docs

---

**–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:** Backend v0.17.7+ | Frontend v2.0.0+ | APK v1.6.0+ (backward compatible)
