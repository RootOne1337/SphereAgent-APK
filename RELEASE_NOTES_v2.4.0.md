# SphereAgent v2.4.0 Release Notes

**–î–∞—Ç–∞ —Ä–µ–ª–∏–∑–∞:** 15 —è–Ω–≤–∞—Ä—è 2026  
**–¢–∏–ø:** Major Feature Release

---

## üéØ –ì–ª–∞–≤–Ω–æ–µ –≤ —ç—Ç–æ–º —Ä–µ–ª–∏–∑–µ

### –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ XPath/UIAutomator2 –≤ —Å–∫—Ä–∏–ø—Ç–∞—Ö

–¢–µ–ø–µ—Ä—å —Å–∫—Ä–∏–ø—Ç—ã –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å XPath-—Å–µ–ª–µ–∫—Ç–æ—Ä—ã –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å UI —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏!
–≠—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –¥–ª—è –Ω–∞–¥—ë–∂–Ω–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏.

---

## ‚ú® –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### XPath –∫–æ–º–∞–Ω–¥—ã (StepType)

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã |
|---------|----------|-----------|
| `XPATH_TAP` | –¢–∞–ø –ø–æ XPath —ç–ª–µ–º–µ–Ω—Ç—É | `xpath`, `timeout` |
| `XPATH_TEXT` | –í–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞ –≤ XPath —ç–ª–µ–º–µ–Ω—Ç | `xpath`, `text`, `timeout` |
| `XPATH_WAIT` | –û–∂–∏–¥–∞–Ω–∏–µ –ø–æ—è–≤–ª–µ–Ω–∏—è XPath —ç–ª–µ–º–µ–Ω—Ç–∞ | `xpath`, `timeout` |
| `XPATH_EXISTS` | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞ | `xpath`, `variable`, `timeout` |
| `XPATH_SWIPE` | –°–≤–∞–π–ø –æ—Ç XPath —ç–ª–µ–º–µ–Ω—Ç–∞ | `xpath`, `direction`, `distance`, `timeout` |

### –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã |
|---------|----------|-----------|
| `FIND_AND_TAP` | –ù–∞–π—Ç–∏ –∏ —Ç–∞–ø–Ω—É—Ç—å | `by` (text/id/desc), `value`, `timeout` |
| `FIND_AND_TEXT` | –ù–∞–π—Ç–∏ –∏ –≤–≤–µ—Å—Ç–∏ —Ç–µ–∫—Å—Ç | `by`, `value`, `text`, `timeout` |
| `FIND_EXISTS` | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ | `by`, `value`, `variable`, `timeout` |

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

- `DOUBLE_TAP` ‚Äî –¥–≤–æ–π–Ω–æ–π —Ç–∞–ø –ø–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º
- –£–ª—É—á—à–µ–Ω–Ω—ã–π `WAIT_FOR_ELEMENT` —Å XPath –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### ScriptEngine.kt

- –î–æ–±–∞–≤–ª–µ–Ω—ã 10 –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ —à–∞–≥–æ–≤ –≤ enum `StepType`
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω `XPathHelper` –≤ `ScriptRunner`
- –ü–æ–ª–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ XPath –∫–æ–º–∞–Ω–¥ –≤ `executeStep()`
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ XPath –æ–ø–µ—Ä–∞—Ü–∏–π –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

### XPathHelper.kt

- –£–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –º–µ—Ç–æ–¥—ã:
  - `tapByXPath()`, `textByXPath()`, `waitForXPath()`
  - `swipeFromElement()`, `findElement()`, `waitForElement()`
- UI dump —á–µ—Ä–µ–∑ `uiautomator dump`
- –ü–∞—Ä—Å–∏–Ω–≥ bounds –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

---

## üìã –ú–∞–ø–ø–∏–Ω–≥ Backend ‚Üí APK

| Backend action | APK StepType |
|----------------|--------------|
| `xpath_tap` | `XPATH_TAP` |
| `xpath_text` | `XPATH_TEXT` |
| `xpath_wait` | `XPATH_WAIT` |
| `xpath_exists` | `XPATH_EXISTS` |
| `xpath_swipe` | `XPATH_SWIPE` |
| `find_and_tap` | `FIND_AND_TAP` |
| `find_and_text` | `FIND_AND_TEXT` |
| `find_exists` | `FIND_EXISTS` |

---

## üì± –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- **Android:** 7.0+ (API 24+)
- **Backend:** SphereADB v2.2.0+
- **Remote Config:** –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞

---

## üöÄ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ

```bash
# –°–±–æ—Ä–∫–∞
cd SphereAgent-APK
./gradlew assembleDebug

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
adb install -r app/build/outputs/apk/debug/app-debug.apk
```

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏

1. **XPath —Å–∏–Ω—Ç–∞–∫—Å–∏—Å:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π XPath –¥–ª—è Android:
   - `//node[@text='OK']`
   - `//node[@resource-id='com.app:id/button']`
   - `//node[contains(@text, 'Login')]`

2. **–¢–∞–π–º–∞—É—Ç—ã:** –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é 10 —Å–µ–∫—É–Ω–¥ –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –æ–ø–µ—Ä–∞—Ü–∏–π

3. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** `uiautomator dump` –∑–∞–Ω–∏–º–∞–µ—Ç ~300-500ms, —É—á–∏—Ç—ã–≤–∞–π—Ç–µ —ç—Ç–æ –≤ —Å–∫—Ä–∏–ø—Ç–∞—Ö

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

- **–§–∞–π–ª–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–æ:** 2
- **–°—Ç—Ä–æ–∫ –¥–æ–±–∞–≤–ª–µ–Ω–æ:** ~150
- **–ù–æ–≤—ã—Ö StepType:** 10
